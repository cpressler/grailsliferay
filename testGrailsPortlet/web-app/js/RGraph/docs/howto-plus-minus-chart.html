<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <!--
        /**
        * o------------------------------------------------------------------------------o
        * | This file is part of the RGraph package - you can learn more at:             |
        * |                                                                              |
        * |                          http://www.rgraph.net                               |
        * |                                                                              |
        * | This package is licensed under the RGraph license. For all kinds of business |
        * | purposes there is a small one-time licensing fee to pay and for non          |
        * | commercial  purposes it is free to use. You can read the full license here:  |
        * |                                                                              |
        * |                      http://www.rgraph.net/LICENSE.txt                       |
        * o------------------------------------------------------------------------------o
        */
    -->
    <title>RGraph HOWTO: Create plus/minus Bar charts &amp; Sparklines</title>

    <meta name="keywords" content="rgraph html5 canvas chart docs links" />
    <meta name="description" content="A HOWTO guide for creating a plus/minus bar chart & Sparklines" />
    <meta name="googlebot" content="NOODP">

    <meta property="og:title" content="RGraph: HTML5 Javascript charts library" />
    <meta property="og:description" content="A charts library based on the HTML5 canvas tag" />
    <meta property="og:image" content="http://www.rgraph.net/images/logo.jpg"/>

    <link rel="stylesheet" href="../css/website.css" type="text/css" media="screen" />
    <link rel="icon" type="image/png" href="../images/favicon.png">
    
    <!-- Place this tag in your head or just before your close body tag -->
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    
    <script src="../libraries/RGraph.common.core.js" ></script>
    <script src="../libraries/RGraph.bar.js" ></script>
    <script src="../libraries/RGraph.line.js" ></script>
    <!--[if lt IE 9]><script src="../excanvas/excanvas.original.js"></script><![endif]-->
    
    <script>
        window.onload = function (e)
        {
            var data = [10,9,8,-8,-9,-10];
            var colors = [];
            
            /**
            * Create the colors
            */
            for (var i=0; i<data.length; ++i) {
                colors.push(data[i] > 0 ? '#0f0' : 'red');
            }
            
            var bar = new RGraph.Bar('cvs1', data);
            bar.Set('chart.xaxispos', 'center');
            bar.Set('chart.ylabels', false);
            bar.Set('chart.noyaxis', true);
            bar.Set('chart.background.grid', false);
            bar.Set('chart.colors', colors);
            bar.Set('chart.colors.sequential', true);
            bar.Set('chart.gutter.left', 2);
            bar.Set('chart.gutter.right', 2);
            bar.Set('chart.gutter.top', 2);
            bar.Set('chart.gutter.bottom', 2);
            bar.Set('chart.strokestyle', 'rgba(0,0,0,0)');
            bar.Set('chart.hmargin', 1);
            bar.Set('chart.numxticks', 0);
            bar.Draw();
            
            var line = new RGraph.Line('cvs2', [4,5,3,4,2,3,5,4,5,4,3,5,3]);
            line.Set('chart.gutter.left', 1);
            line.Set('chart.gutter.right', 1);
            line.Set('chart.gutter.top', 1);
            line.Set('chart.gutter.bottom', 1);
            line.Set('chart.background.grid', false);
            line.Set('chart.noaxes', true);
            line.Set('chart.ymax', 10);
            line.Draw();
        }
    </script>

    <?php PrintAnalyticsCode() ?>
</head> 
<body>

    <!-- Social networking buttons -->
        <?php
            $prefix = substr($_SERVER['SERVER_NAME'], 0, 3);
            require("/rgraph.{$prefix}/social.html");
        ?>
    <!-- Social networking buttons -->


<div id="breadcrumb">
    <a href="../index.html">RGraph: HTML5 Javascript charts library</a>
    >
    <a href="./index.html">Documentation</a>
    >
    HOWTO: Create a plus/minus Bar chart &amp; Sparklines
</div>

    <h1>HOWTO: <span>Create a plus/minus Bar chart &amp; Sparklines</span></h1>

    <p>
        A previous request has been for inline plus/minus charts - much like sparklines. Both of these are possible by
        using the configuration options available in order to make the chart appear as desired. The main thing
        clearly is to use a smaller canvas size in order to make the chart fit inline with your text.
    </p>
    
    <h4>1. Inline Bar charts</h4>    
        <p>
            Here the colors are defined by looping through the data beforehand to determine whether a value is positive or
            negative. When this is ascertained the color can be set appropriately and also the <i>chart.colors.sequential</i> option.
            This is an example of an inline Bar chart:
        </p>
        
        <p style="background-color: rgba(240,240,240,0.5); border: 1px solid #ddd; padding: 5px; border-radius: 5px">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus in lobortis leo. In cursus, tortor et
            convallis suscipit, nibh tellus ultrices mi, sed lobortis nibh sem eu diam. Nam sit amet massa arcu,
            vitae tempus libero. Ut luctus magna tempor justo posuere cursus. Donec ante enim, iaculis eget viverra
            non, sodales vel ligula. Donec nibh ligula, ultrices ac pretium quis, fringilla vel sem. Donec luctus
            dignissim nisi, ac vulputate velit pellentesque eget.
            <canvas id="cvs1" width="50" height="20" style="background-color: white">[CHART]</canvas>
            Fusce aliquet est quis diam vulputate bibendum.
            Aenean feugiat sapien et est sollicitudin sit amet imperdiet eros sollicitudin. Praesent mattis semper
            elementum. Nulla commodo pretium risus, et aliquet massa lacinia in. Aliquam tristique rutrum arcu, et
            laoreet dolor porttitor et. Morbi at tellus id nisi iaculis aliquam a congue neque. Duis sit amet mauris
            libero. Nulla ut nisi quam. Praesent scelerisque tortor id tellus porttitor consectetur
        </p>
        
        <pre class="code">
&lt;script&gt;
    var data = [10,9,8,-8,-9,-10];
    var colors = [];
    
    /**
    * Create the colors
    */
    for (var i=0; i&lt;data.length; ++i) {
        colors.push(data[i] &gt; 0 ? '#0f0' : 'red');
    }
    
    var bar = new RGraph.Bar('cvs1', data);
    bar.Set('chart.xaxispos', 'center');
    bar.Set('chart.ylabels', false);
    bar.Set('chart.noyaxis', true);
    bar.Set('chart.background.grid', false);
    bar.Set('chart.colors', colors);
    bar.Set('chart.colors.sequential', true);
    bar.Set('chart.gutter.left', 2);
    bar.Set('chart.gutter.right', 2);
    bar.Set('chart.gutter.top', 2);
    bar.Set('chart.gutter.bottom', 2);
    bar.Set('chart.strokestyle', 'rgba(0,0,0,0)');
    bar.Set('chart.hmargin', 1);
    bar.Set('chart.numxticks', 0);
    bar.Draw();
&lt;/script&gt;
</pre>
    
    <h4>2. Inline Line charts (sparklines)</h4>
        <p>
            With Sparklines the process is much the same except without the loop for the colors.
        </p>
        
        <p style="background-color: rgba(240,240,240,0.5); border: 1px solid #ddd; padding: 5px; border-radius: 5px">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus in lobortis leo. In cursus, tortor et
            convallis suscipit, nibh tellus ultrices mi, sed lobortis nibh sem eu diam. Nam sit amet massa arcu,
            vitae tempus libero. Ut luctus magna tempor justo posuere cursus. Donec ante enim, iaculis eget viverra
            non, sodales vel ligula. Donec nibh ligula, ultrices ac pretium quis, fringilla vel sem. Donec luctus
            dignissim nisi, ac vulputate velit pellentesque eget.
            <canvas id="cvs2" width="50" height="20" style="background-color: white">[CHART]</canvas>
            Fusce aliquet est quis diam vulputate bibendum.
            Aenean feugiat sapien et est sollicitudin sit amet imperdiet eros sollicitudin. Praesent mattis semper
            elementum. Nulla commodo pretium risus, et aliquet massa lacinia in. Aliquam tristique rutrum arcu, et
            laoreet dolor porttitor et. Morbi at tellus id nisi iaculis aliquam a congue neque. Duis sit amet mauris
            libero. Nulla ut nisi quam. Praesent scelerisque tortor id tellus porttitor consectetur
        </p>

    <pre class="code">
&lt;script&gt;
    var line = new RGraph.Line('cvs2', [4,5,3,4,2,3,5,4,5,4,3,5,3]);
    line.Set('chart.gutter.left', 1);
    line.Set('chart.gutter.right', 1);
    line.Set('chart.gutter.top', 1);
    line.Set('chart.gutter.bottom', 1);
    line.Set('chart.background.grid', false);
    line.Set('chart.noaxes', true);
    line.Set('chart.ymax', 10);
    line.Draw();
&lt;/script&gt;
</pre>

    <h4>Taking it further</h4>
        <p>
            One option if you're finding the charts too small, or you wish to enlarge them when clicked is to add an anchor (link)
            around the canvas so that when clicked a ModalDialog is shown with a larger version of the chart - a detail view if you like.
        </p>

</body>
</html>